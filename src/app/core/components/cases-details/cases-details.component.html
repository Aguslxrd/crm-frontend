<div class="case-details-container">
  <h2>Detalles del Caso</h2>

  <div *ngIf="loading" class="loading-message">Cargando...</div>

  <div *ngIf="error" class="error-message">{{ error }}</div>

  <div *ngIf="!loading && !error && caseDetails" class="case-info">
    <p><strong>ID del Caso:</strong> {{ caseDetails.caseId }}</p>
    <p><strong>Título:</strong> {{ caseDetails.title }}</p>
    <p><strong>Descripción:</strong> {{ caseDetails.description_case }}</p>
    <p><strong>Fecha de Creación:</strong> {{ caseDetails.date_created | date:'medium' }}</p>
    <p><strong>Estado:</strong> {{ caseDetails.case_status }}</p>
  </div>

  <div class="interactions-section">
    <h3>Interacciones</h3>
    <button class="add-interaction-button" (click)="openAddInteractionModal()">Agregar Interacción</button>
    
    <div *ngIf="interactions.length > 0; else noInteractions" class="interactions-timeline">
      <div *ngFor="let interaction of interactions" class="interaction-item">
        <div class="interaction-date">
          <span class="date">{{ interaction.interaction_date | date:'dd/MM/yyyy' }}</span>
          <span class="time">{{ interaction.interaction_date | date:'HH:mm' }}</span>
        </div>
        <div class="interaction-content">
          <p>{{ interaction.interaction_text }}</p>
          <button class="edit-interaction-button" (click)="openEditInteractionModal(interaction)">Editar</button>
        </div>
      </div>
    </div>
    <ng-template #noInteractions>
      <p>No hay interacciones para este casos.</p>
    </ng-template>
  </div>

  <button class="back-button" (click)="goBack()">Volver a la lista de casos</button>
</div>
