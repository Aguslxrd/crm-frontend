<div class="enterprise-details-container" *ngIf="!loading && !error">
  <div class="card">
    <h2>Detalles de la Empresa</h2>
    <div *ngIf="enterprise" class="enterprise-info">
      <p><strong>ID:</strong> {{ enterprise.enterpriseid }}</p>
      <p><strong>Nombre:</strong> {{ enterprise.name_enterprise }}</p>
      <p><strong>RUT:</strong> {{ enterprise.rut }}</p>
      <p><strong>Dirección:</strong> {{ enterprise.address }}</p>
      <p><strong>Teléfono:</strong> {{ enterprise.phone }}</p>
      <p><strong>Email:</strong> {{ enterprise.email }}</p>
      <p><strong>Sitio Web:</strong> {{ enterprise.web_site }}</p>
    </div>

    <div class="user-assignment">
      <h3>Asignar Usuario</h3>
      <select [(ngModel)]="selectedUserId">
        <option [ngValue]="null">Seleccionar usuario</option>
        <option *ngFor="let user of users" [ngValue]="user.userid">
          {{ user.firstname }} {{ user.firstlastname }}
        </option>
      </select>
      <button (click)="assignUserToEnterprise()" [disabled]="!selectedUserId">Asignar</button>
    </div>

    <div class="assigned-users">
      <h3>Usuarios Asignados</h3>
      <ul>
        <li *ngFor="let enterpriseUser of enterpriseUsers">
          {{ getUserFullName(enterpriseUser.userId) }}
        </li>
      </ul>
    </div>
    

    <button (click)="goBack()" class="back-button">Volver</button>
  </div>
</div>

<div *ngIf="loading" class="loading">
  <div class="spinner"></div>
  <p>Cargando detalles de la empresa...</p>
</div>

<div *ngIf="error" class="error">
  <i class="fas fa-exclamation-circle"></i>
  <p>{{ error }}</p>
</div>
